import{h as f}from"./scheduler.NfgRgSDe.js";import{w as u}from"./paths.yPCc2dLW.js";function g(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}const p=u([]),h=u({offset:0,duration:500,passive:!0,easing:g,onStart:()=>{},onDone:()=>{}}),v=f(h),w=()=>v,d=e=>e.replace(/[^A-Z0-9]/gi,"").toLowerCase(),E=(e,n)=>{const t=e.filter(s=>s.reference===n);return t.length?t[0].node:null},b=e=>e.offsetTop,O=(e,n,t,s,r)=>t>s?n:e+(n-e)*r(t/s),L=async(e,n)=>new Promise(t=>{const{start:s,end:r,duration:o,easing:a}=e,l=Date.now(),i=()=>{const c=Date.now()-l,m=O(s,r,c,o,a);if(n(m),c>o)return t();window.requestAnimationFrame(i)};window.requestAnimationFrame(i)}),y=w(),T=async(e,n)=>{const{duration:t,easing:s,offset:r}=Object.assign(y,n),o=window.pageYOffset,a=e+r;await L({start:o,end:a,duration:t,easing:s},l=>{window.scroll(0,l)})},A=f(p),D=async(e,n)=>{n.passive||e.preventDefault();const{ref:t,onDone:s,onStart:r}=n,o=n.duration,a=n.offset,l=n.easing,i=E(A,t);if(!i)throw new Error(`Element reference '${t}' not found`);const c=b(i);r&&r({element:i,offset:a,duration:o,endPosition:c}),await T(c,{duration:o,offset:a,easing:l}),s&&s({element:i,offset:a,duration:o,endPosition:c})},j=(e,n)=>{if(!n)throw new Error("scrollTo require a options");let t=Object.assign({ref:""},w());if(typeof n=="string"?t.ref=n:t=Object.assign(t,n),t.ref=d(t.ref),!t.ref)throw new Error("scrollTo require a reference");e instanceof HTMLAnchorElement&&(e.href=`#${t.ref}`),e instanceof HTMLAnchorElement||(e.style.cursor="pointer");const s=r=>D(r,t);return e.addEventListener("click",s,{passive:t.passive}),e.addEventListener("touchstart",s,{passive:t.passive}),{destroy(){e.removeEventListener("click",s),e.removeEventListener("touchstart",s)}}};export{j as a,d as b,p as e,w as g,T as s};
